angular.module("slidePushMenu",[]).factory("slidePush",function(){"use strict";var s,t;return t=320,s=150,{slide:function(e,n){return n.toggleClass("active"),e.hasClass("spmenu-left")&&(e.hasClass("spmenu-open")?e.css("left",parseInt(e.css("left"))-t):e.css("left",parseInt(e.css("left"))+t)),e.hasClass("spmenu-right")&&(e.hasClass("spmenu-open")?e.css("right",parseInt(e.css("right"))-t):e.css("right",parseInt(e.css("right"))+t)),e.hasClass("spmenu-top")&&(e.hasClass("spmenu-open")?e.css("top",parseInt(e.css("top"))-s):e.css("top",parseInt(e.css("top"))+s)),e.hasClass("spmenu-bottom")&&(e.hasClass("spmenu-open")?e.css("bottom",parseInt(e.css("bottom"))-s):e.css("bottom",parseInt(e.css("bottom"))+s)),e.toggleClass("spmenu-open").is(".spmenu-open")},slideForceClose:function(e,n){return e.hasClass("spmenu-open")?(n.removeClass("active"),e.hasClass("spmenu-left")&&e.css("left",parseInt(e.css("left"))-t),e.hasClass("spmenu-right")&&e.css("right",parseInt(e.css("right"))-t),e.hasClass("spmenu-top")&&e.css("top",parseInt(e.css("top"))-s),e.hasClass("spmenu-bottom")&&e.css("bottom",parseInt(e.css("bottom"))-s),e.removeClass("spmenu-open")):void 0},push:function(e,n){var p,a,o;return p=angular.element("body"),n.toggleClass("active"),e.hasClass("spmenu-left")&&(a=parseInt(p.css("left")),a=a?a:0,e.hasClass("spmenu-open")?p.css("left",a-t):p.css("left",a+t),e.hasClass("spmenu-open")?e.css("left",parseInt(e.css("left"))-t):e.css("left",parseInt(e.css("left"))+t)),e.hasClass("spmenu-right")&&(a=parseInt(p.css("left")),a=a?a:0,e.hasClass("spmenu-open")?p.css("left",a+t):p.css("left",a-t),e.hasClass("spmenu-open")?e.css("right",parseInt(e.css("right"))-t):e.css("right",parseInt(e.css("right"))+t)),e.hasClass("spmenu-top")&&(o=parseInt(p.css("top")),o=o?o:0,e.hasClass("spmenu-open")?p.css("top","auto"):p.css("top",o+s),e.hasClass("spmenu-open")?e.css("top",parseInt(e.css("top"))-s):e.css("top",parseInt(e.css("top"))+s)),e.hasClass("spmenu-bottom")&&(o=parseInt(p.css("top")),o=o?o:0,e.hasClass("spmenu-open")?p.css("top","auto"):p.css("top",o-s),e.hasClass("spmenu-open")?e.css("bottom",parseInt(e.css("bottom"))-s):e.css("bottom",parseInt(e.css("bottom"))+s)),e.toggleClass("spmenu-open")},pushForceClose:function(e,n){var p,a;return e.hasClass("spmenu-open")?(n.removeClass("active"),p=angular.element("body"),e.hasClass("spmenu-left")&&(a=parseInt(p.css("left")),a=a?a:0,p.css("left",a-t),e.css("left",parseInt(e.css("left"))-t)),e.hasClass("spmenu-right")&&(a=parseInt(p.css("left")),a=a?a:0,p.css("left",a+t),e.css("right",parseInt(e.css("right"))-t)),e.hasClass("spmenu-top")&&(p.css("top","auto"),e.css("top",parseInt(e.css("top"))-s)),e.hasClass("spmenu-bottom")&&(p.css("top","auto"),e.css("bottom",parseInt(e.css("bottom"))-s)),e.removeClass("spmenu-open")):void 0}}}).directive("pushMenu",["$document","slidePush",function(s,t){"use strict";var e=function(e,n,p){var a,o,l;e.position=p.position,e.buttonClass=p.buttonClass?p.buttonClass:"",e.type=p.menuType?p.menuType:"slide",e.classes=p.spmClass?p.spmClass:"",e.classes+="  spmenu-"+("right"===p.position||"left"===p.position?"vertical":"horizontal")+" spmenu-"+p.position,e.showButton=!!p.button,void 0===e.isOpen&&(e.isOpen=!1),e.$watch("isOpen",function(){"slide"===e.type?t.slide(n,o):"push"===e.type&&t.push(n,o)}),e.toggleOpen=function(){"push"===e.type&&angular.element("body").addClass("spmenu-push"),e.isOpen=!e.isOpen},a=angular.element("body"),e.showButton&&(o=n.find(".spmenu-button"),l=p.fixTop?"top: "+(parseInt(p.fixTop)+n.position().top)+"px; ":"",l+=p.fixLeft?"left: "+(parseInt(p.fixLeft)+n.position().left)+"px; ":"",o.attr("style",l)),"push"===e.type&&a.addClass("spmenu-push"),s.mouseup(function(s){if(e.isOpen&&!n.is(s.target)&&0===n.has(s.target).length&&!a.hasClass("modal-open")){if(e.$apply(function(){e.isOpen=!1}),"slide"===e.type)return t.slideForceClose(n,o);if("push"===e.type)return t.pushForceClose(n,o)}})};return{restrict:"E",replace:!0,template:'<div class="spmenu" ng-class="classes"><a class="spmenu-button" ng-if="showButton" ng-click="toggleOpen()"><i class="toggle" ng-class="buttonClass"></i></a><div class="spmenu-content" push-menu-transclude></div></div>',transclude:!0,link:e,scope:{isOpen:"=menuOpen"}}}]).directive("pushMenuTransclude",function(){"use strict";return{link:function(s,t,e,n,p){p(s.$parent,function(s){t.empty(),t.append(s)})}}});